<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ArtItem.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ArtMap</a> &gt; <a href="index.source.html" class="el_package">me.Fupery.ArtMap.Recipe</a> &gt; <span class="el_source">ArtItem.java</span></div><h1>ArtItem.java</h1><pre class="source lang-java linenums">package me.Fupery.ArtMap.Recipe;

import java.util.logging.Level;

import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.ItemMeta;
import org.bukkit.inventory.meta.MapMeta;

import me.Fupery.ArtMap.ArtMap;
import me.Fupery.ArtMap.api.Config.Lang;

import static org.bukkit.ChatColor.*;

public class ArtItem {

<span class="nc" id="L18">    private static final String ARTWORK_TAG = ChatColor.GRAY.toString() + ChatColor.ITALIC + &quot;Картина игрока&quot;;</span>
<span class="nc" id="L19">    private static final String UNFINISHED_TAG = ChatColor.GRAY.toString() + ChatColor.ITALIC + &quot;Картина в процессе&quot;;</span>
<span class="nc" id="L20">    private static final String COPY_TAG = ChatColor.GRAY.toString() + ChatColor.ITALIC + &quot;Копия картины&quot;;</span>
<span class="nc" id="L21">    public static final String CANVAS_KEY = ChatColor.AQUA.toString() + ChatColor.ITALIC + &quot;ArtMap Canvas&quot;;</span>
<span class="nc" id="L22">    public static final String CANVAS_KEY2 = ChatColor.AQUA.toString() + ChatColor.ITALIC + &quot;ArtMap Canvas2&quot;;</span>
<span class="nc" id="L23">    public static final String CANVAS_KEY3 = ChatColor.AQUA.toString() + ChatColor.ITALIC + &quot;ArtMap Canvas3&quot;;</span>

<span class="nc" id="L25">    public static final String EASEL_KEY = ChatColor.AQUA.toString() + ChatColor.ITALIC + &quot;ArtMap Easel&quot;;</span>
<span class="nc" id="L26">    public static final String KIT_KEY = ChatColor.DARK_GRAY + &quot;[АртКит]&quot;;</span>
<span class="nc" id="L27">    public static final String PREVIEW_KEY = ChatColor.AQUA.toString() + ChatColor.ITALIC + &quot;Preview Artwork&quot;;</span>
<span class="nc" id="L28">    public static final String PAINT_BRUSH = ChatColor.AQUA.toString() + ChatColor.ITALIC + &quot;Paint Brush&quot;;</span>
    
    private ArtItem() {
        //hide consstructor
    }

    /**
     * Determine wether the provided ItemStack is an Artwork
     * @param itemStack The ItemStack to check.
     * @return  True if the ItemStack is an original Artwork false otherwise.
     */
    public static boolean isArtwork(ItemStack itemStack) {
<span class="nc bnc" id="L40" title="All 2 branches missed.">        if (itemStack != null</span>
<span class="nc bnc" id="L41" title="All 2 branches missed.">                &amp;&amp; itemStack.getType() == Material.FILLED_MAP</span>
<span class="nc bnc" id="L42" title="All 2 branches missed.">		        &amp;&amp; itemStack.hasItemMeta()) {</span>
<span class="nc" id="L43">            ItemMeta itemMeta = itemStack.getItemMeta();</span>
<span class="nc bnc" id="L44" title="All 4 branches missed.">            if (itemMeta.hasLore() &amp;&amp; (itemMeta.getLore().get(0).contains(ARTWORK_TAG) || </span>
<span class="nc bnc" id="L45" title="All 2 branches missed.">                itemMeta.getLore().get(0).contains(UNFINISHED_TAG) ||</span>
<span class="nc bnc" id="L46" title="All 2 branches missed.">                itemMeta.getLore().get(0).contains(COPY_TAG) )) {</span>
<span class="nc" id="L47">                return true;</span>
            }
        }
<span class="nc" id="L50">        return false;</span>
    }

    /**
     * Determine wether the provided ItemStack is an Original Artwork.
     * @param itemStack The ItemStack to check.
     * @return  True if the ItemStack is an original Artwork false otherwise.
     */
    public static boolean isOriginalArtwork(ItemStack itemStack) {
<span class="nc bnc" id="L59" title="All 2 branches missed.">        if (itemStack != null</span>
<span class="nc bnc" id="L60" title="All 2 branches missed.">                &amp;&amp; itemStack.getType() == Material.FILLED_MAP</span>
<span class="nc bnc" id="L61" title="All 2 branches missed.">		        &amp;&amp; itemStack.hasItemMeta()) {</span>
<span class="nc" id="L62">            ItemMeta itemMeta = itemStack.getItemMeta();</span>
<span class="nc bnc" id="L63" title="All 4 branches missed.">            if (itemMeta.hasLore() &amp;&amp; itemMeta.getLore().get(0).contains(ARTWORK_TAG)) {</span>
<span class="nc" id="L64">                return true;</span>
            }
        }
<span class="nc" id="L67">        return false;</span>
    }

    /**
     * Determine whether the provided ItemStack is an Unfinished Artwork.
     * @param itemStack The ItemStack to check.
     * @return  True if the ItemStack is an Unfinished Artwork false otherwise.
     */
    public static boolean isUnfinishedArtwork(ItemStack itemStack) {
<span class="nc bnc" id="L76" title="All 2 branches missed.">        if (itemStack != null</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">                &amp;&amp; itemStack.getType() == Material.FILLED_MAP</span>
<span class="nc bnc" id="L78" title="All 2 branches missed.">		        &amp;&amp; itemStack.hasItemMeta()) {</span>
<span class="nc" id="L79">            ItemMeta itemMeta = itemStack.getItemMeta();</span>
<span class="nc bnc" id="L80" title="All 4 branches missed.">            if (itemMeta.hasLore() &amp;&amp; itemMeta.getLore().get(0).contains(UNFINISHED_TAG)) {</span>
<span class="nc" id="L81">                return true;</span>
            }
        }
<span class="nc" id="L84">        return false;</span>
    }

    /**
     * Determine whether the provided ItemStack is an Copy Artwork.
     * @param itemStack The ItemStack to check.
     * @return  True if the ItemStack is an Copy Artwork false otherwise.
     */
    public static boolean isCopyArtwork(ItemStack itemStack) {
<span class="nc bnc" id="L93" title="All 2 branches missed.">        if (itemStack != null</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">                &amp;&amp; itemStack.getType() == Material.FILLED_MAP</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">		        &amp;&amp; itemStack.hasItemMeta()) {</span>
<span class="nc" id="L96">            ItemMeta itemMeta = itemStack.getItemMeta();</span>
<span class="nc bnc" id="L97" title="All 4 branches missed.">            if (itemMeta.hasLore() &amp;&amp; itemMeta.getLore().get(0).contains(COPY_TAG)) {</span>
<span class="nc" id="L98">                return true;</span>
            }
        }
<span class="nc" id="L101">        return false;</span>
    }

	//private static final char BULLET_POINT = '\u2022';

    static class CraftableItem extends CustomItem {

        public CraftableItem(String itemName, Material material, String uniqueKey) {
<span class="nc" id="L109">            super(material, KIT_KEY, uniqueKey);</span>
            try {
<span class="nc" id="L111">                recipe(ArtMap.instance().getRecipeLoader().getRecipe(itemName.toUpperCase()));</span>
<span class="nc" id="L112">            } catch (RecipeLoader.InvalidRecipeException e) {</span>
<span class="nc" id="L113">                ArtMap.instance().getLogger().log(Level.SEVERE, &quot;Failure!&quot;, e);</span>
<span class="nc" id="L114">            }</span>
<span class="nc" id="L115">        }</span>
    }

    public static class ArtworkItem extends CustomItem {
        /**
         * Creates an original Artwork item.
         * @param id - The Map ID of the artwork.
         * @param title - The title of the artwork.
         * @param artistName - The name of the artist.
         * @param date - The date the item was created.
         */
        public ArtworkItem(int id, String title, String artistName, String date) {
<span class="nc" id="L127">			super(new ItemStack(Material.FILLED_MAP), ARTWORK_TAG);</span>
<span class="nc" id="L128">			MapMeta meta = (MapMeta) this.stack.get().getItemMeta();</span>
<span class="nc" id="L129">			meta.setMapView(ArtMap.getMap(id));</span>
<span class="nc" id="L130">			this.stack.get().setItemMeta(meta);</span>
<span class="nc" id="L131">            name(title);</span>
<span class="nc" id="L132">            String artist = GOLD + String.format(Lang.RECIPE_ARTWORK_ARTIST.get(), (GOLD + artistName));</span>
<span class="nc" id="L133">            tooltip(artist, String.valueOf(GRAY) + ITALIC + date);</span>
<span class="nc" id="L134">        }</span>
    }

    public static class InProgressArtworkItem extends CustomItem {
        /**
         * Creates an in progress artwork item.
         * @param id - The map id of the inprogress artwork.
         */
        public InProgressArtworkItem(int id, String artistName) {
<span class="nc" id="L143">			super(new ItemStack(Material.FILLED_MAP), UNFINISHED_TAG);</span>
<span class="nc" id="L144">			MapMeta meta = (MapMeta) this.stack.get().getItemMeta();</span>
<span class="nc" id="L145">			meta.setMapView(ArtMap.getMap(id));</span>
<span class="nc" id="L146">			this.stack.get().setItemMeta(meta);</span>
<span class="nc" id="L147">            name(&quot;Незавершенная работа&quot;);</span>
<span class="nc" id="L148">            String artist = GOLD + String.format(Lang.RECIPE_ARTWORK_ARTIST.get(), (GOLD + artistName));</span>
<span class="nc" id="L149">            tooltip(artist);</span>
<span class="nc" id="L150">        }</span>
    }

    public static class CopyArtworkItem extends CustomItem {
        /**
         * Creates a copy artowrk item.
         * @param id
         */
        public CopyArtworkItem(int id, String title, String artistName, String date) {
<span class="nc" id="L159">			super(new ItemStack(Material.FILLED_MAP), COPY_TAG);</span>
<span class="nc" id="L160">			MapMeta meta = (MapMeta) this.stack.get().getItemMeta();</span>
<span class="nc" id="L161">			meta.setMapView(ArtMap.getMap(id));</span>
<span class="nc" id="L162">			this.stack.get().setItemMeta(meta);</span>
<span class="nc" id="L163">            name(title);</span>
<span class="nc" id="L164">            String artist = GOLD + String.format(Lang.RECIPE_ARTWORK_ARTIST.get(), (GOLD + artistName));</span>
<span class="nc" id="L165">            tooltip(artist, String.valueOf(DARK_GREEN) + ITALIC + date);</span>
<span class="nc" id="L166">        }</span>
    }

    public static class KitItem extends CustomItem {
        KitItem(Material material, String name) {
<span class="nc" id="L171">            super(material, KIT_KEY, name);</span>
<span class="nc" id="L172">        }</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>